{"ast":null,"code":"import React from'react';import{useSelector,useDispatch}from'react-redux';import{open}from'../../features/redux/openMessageSlice';import{setMessageChat}from'../../features/redux/idMessageSlice';import convertDate from'../../features/convertDate';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ChannelOpenMessage(props){var openChat=useSelector(function(state){return state.openChat.value;});var idChat=useSelector(function(state){return state.idChat.value;});var dispatch=useDispatch();var Message=[];if(props.data!=null){props.data.sort(function(a,b){if(a.date<b.date){return 1;}if(a.date>b.date){return-1;}return 0;}).forEach(function(element){if(element.type===\"channel\"&&element.nameFrom===idChat||element.type===\"superchannel\"&&element.nameFrom===idChat){if(element.text!==null){var data=[element.text,convertDate(element.date),element.chatId,element.messageId,element.username,element.answers,element.comments];Message.push(data);}}});}if(openChat===true){return/*#__PURE__*/_jsx(\"div\",{children:Message.filter(function(element,index){return Message.indexOf(element)===index;}).map(function(data){return/*#__PURE__*/_jsxs(\"div\",{className:\"ChatElement\",onClick:function onClick(){dispatch(open());dispatch(setMessageChat(data[3]));},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F: \",data[0]]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u0440\\u0435\\u043C\\u044F: \",data[1]]})]});})});}else{return null;}}","map":{"version":3,"names":["React","useSelector","useDispatch","open","setMessageChat","convertDate","ChannelOpenMessage","props","openChat","state","value","idChat","dispatch","Message","data","sort","a","b","date","forEach","element","type","nameFrom","text","chatId","messageId","username","answers","comments","push","filter","index","indexOf","map"],"sources":["D:/Проекты/social-space/frontend/src/component/Channel/ChannelOpenMessage.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { open } from '../../features/redux/openMessageSlice';\r\nimport { setMessageChat } from '../../features/redux/idMessageSlice';\r\nimport convertDate from '../../features/convertDate';\r\n\r\nexport default function ChannelOpenMessage(props) {\r\n    const openChat = useSelector((state) => state.openChat.value)\r\n    const idChat = useSelector((state) => state.idChat.value)\r\n    const dispatch = useDispatch()\r\n  \r\n    let Message = [];\r\n\r\n    if(props.data != null){\r\n        props.data.sort(function(a,b){\r\n            if(a.date < b.date){\r\n                return 1;\r\n            }\r\n            if(a.date > b.date){\r\n                return -1;\r\n            }\r\n            return 0;\r\n            }).forEach(element => {\r\n            if((element.type === \"channel\" && element.nameFrom === idChat) || (element.type === \"superchannel\" && element.nameFrom === idChat)){\r\n                if(element.text !== null){\r\n                    let data = [element.text, convertDate(element.date), element.chatId, element.messageId, element.username, element.answers, element.comments];\r\n                    Message.push(data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    if(openChat === true){\r\n        return(\r\n            <div >\r\n            {Message.filter((element, index) => {\r\n                return Message.indexOf(element) === index;\r\n            }).map(data => {\r\n                return (\r\n                    <div className = \"ChatElement\" onClick = {() => {\r\n                        dispatch(open());\r\n                        dispatch(setMessageChat(data[3]));\r\n                    }}>\r\n                        <p>Сообщения: { data[0] }</p>\r\n                        <p>Время: { data[1] }</p>\r\n                    </div>\r\n                ) \r\n            }\r\n            )}\r\n            </div>\r\n        );\r\n    } else{\r\n        return null    \r\n    }\r\n}"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,IAAI,KAAQ,uCAAuC,CAC5D,OAASC,cAAc,KAAQ,qCAAqC,CACpE,MAAOC,YAAW,KAAM,4BAA4B,CAAC,wFAErD,cAAe,SAASC,mBAAkB,CAACC,KAAK,CAAE,CAC9C,GAAMC,SAAQ,CAAGP,WAAW,CAAC,SAACQ,KAAK,QAAKA,MAAK,CAACD,QAAQ,CAACE,KAAK,GAAC,CAC7D,GAAMC,OAAM,CAAGV,WAAW,CAAC,SAACQ,KAAK,QAAKA,MAAK,CAACE,MAAM,CAACD,KAAK,GAAC,CACzD,GAAME,SAAQ,CAAGV,WAAW,EAAE,CAE9B,GAAIW,QAAO,CAAG,EAAE,CAEhB,GAAGN,KAAK,CAACO,IAAI,EAAI,IAAI,CAAC,CAClBP,KAAK,CAACO,IAAI,CAACC,IAAI,CAAC,SAASC,CAAC,CAACC,CAAC,CAAC,CACzB,GAAGD,CAAC,CAACE,IAAI,CAAGD,CAAC,CAACC,IAAI,CAAC,CACf,MAAO,EAAC,CACZ,CACA,GAAGF,CAAC,CAACE,IAAI,CAAGD,CAAC,CAACC,IAAI,CAAC,CACf,MAAO,CAAC,CAAC,CACb,CACA,MAAO,EAAC,CACR,CAAC,CAAC,CAACC,OAAO,CAAC,SAAAC,OAAO,CAAI,CACtB,GAAIA,OAAO,CAACC,IAAI,GAAK,SAAS,EAAID,OAAO,CAACE,QAAQ,GAAKX,MAAM,EAAMS,OAAO,CAACC,IAAI,GAAK,cAAc,EAAID,OAAO,CAACE,QAAQ,GAAKX,MAAO,CAAC,CAC/H,GAAGS,OAAO,CAACG,IAAI,GAAK,IAAI,CAAC,CACrB,GAAIT,KAAI,CAAG,CAACM,OAAO,CAACG,IAAI,CAAElB,WAAW,CAACe,OAAO,CAACF,IAAI,CAAC,CAAEE,OAAO,CAACI,MAAM,CAAEJ,OAAO,CAACK,SAAS,CAAEL,OAAO,CAACM,QAAQ,CAAEN,OAAO,CAACO,OAAO,CAAEP,OAAO,CAACQ,QAAQ,CAAC,CAC5If,OAAO,CAACgB,IAAI,CAACf,IAAI,CAAC,CACtB,CACJ,CACJ,CAAC,CAAC,CACN,CAEA,GAAGN,QAAQ,GAAK,IAAI,CAAC,CACjB,mBACI,qBACCK,OAAO,CAACiB,MAAM,CAAC,SAACV,OAAO,CAAEW,KAAK,CAAK,CAChC,MAAOlB,QAAO,CAACmB,OAAO,CAACZ,OAAO,CAAC,GAAKW,KAAK,CAC7C,CAAC,CAAC,CAACE,GAAG,CAAC,SAAAnB,IAAI,CAAI,CACX,mBACI,aAAK,SAAS,CAAG,aAAa,CAAC,OAAO,CAAI,kBAAM,CAC5CF,QAAQ,CAACT,IAAI,EAAE,CAAC,CAChBS,QAAQ,CAACR,cAAc,CAACU,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CACrC,CAAE,wBACE,qBAAG,0DAAW,CAAEA,IAAI,CAAC,CAAC,CAAC,GAAM,cAC7B,qBAAG,kCAAO,CAAEA,IAAI,CAAC,CAAC,CAAC,GAAM,GACvB,CAEd,CAAC,CACA,EACK,CAEd,CAAC,IAAK,CACF,MAAO,KAAI,CACf,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}