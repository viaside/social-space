{"ast":null,"code":"import _toConsumableArray from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import getCookie from\"./getCookie\";export default function getMessage(){return _getMessage.apply(this,arguments);}function _getMessage(){_getMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var botId,Result,i,id,response,message;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://localhost:7013/api/user/GetInfo/'+getCookie(\"userId\")).then(function(Response){return Response.json();}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(Result){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",Result.responseData[\"usingBots\"]);case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());case 2:botId=_context2.sent;if(!(botId.length!==0)){_context2.next=21;break;}Result=[];i=0;case 6:if(!(i<botId.length)){_context2.next=18;break;}id=botId[i].toString().split('----')[0];_context2.next=10;return fetch(\"https://localhost:7013/api/telegram/getMessage/\"+id);case 10:response=_context2.sent;_context2.next=13;return response.json();case 13:message=_context2.sent;if(Result[0]!==undefined){Result=[].concat(_toConsumableArray(Result),_toConsumableArray(message.responseData.reverse()));}else{Result=message.responseData.reverse();}case 15:i++;_context2.next=6;break;case 18:return _context2.abrupt(\"return\",Result);case 21:return _context2.abrupt(\"return\",false);case 22:case\"end\":return _context2.stop();}},_callee2);}));return _getMessage.apply(this,arguments);}","map":{"version":3,"names":["getCookie","getMessage","fetch","then","Response","json","Result","responseData","botId","length","i","id","toString","split","response","message","undefined","reverse"],"sources":["D:/Проекты/social-space/frontend/src/features/getMessage.js"],"sourcesContent":["import getCookie from \"./getCookie\";\r\n\r\nexport default async function getMessage() {\r\n    let botId = await fetch('https://localhost:7013/api/user/GetInfo/' + getCookie(\"userId\"))\r\n    .then((Response) => Response.json())\r\n    .then(async (Result) => { return Result.responseData[\"usingBots\"] });\r\n\r\n    if(botId.length !== 0){\r\n        let Result = [];\r\n        \r\n        for (let i = 0; i < botId.length; i++) {\r\n            let id = botId[i].toString().split('----')[0];   \r\n            const response = await fetch(\"https://localhost:7013/api/telegram/getMessage/\" + id);\r\n            const message = await response.json();\r\n    \r\n            if(Result[0] !== undefined){\r\n                Result = [...Result, ...message.responseData.reverse()];\r\n            } else{\r\n                Result = message.responseData.reverse();\r\n            }\r\n        }\r\n        return Result;\r\n    } else {\r\n        return false;\r\n    }\r\n\r\n}"],"mappings":"meAAA,MAAOA,UAAS,KAAM,aAAa,CAEnC,uBAA8BC,WAAU,6CAwBvC,6FAxBc,uMACOC,MAAK,CAAC,0CAA0C,CAAGF,SAAS,CAAC,QAAQ,CAAC,CAAC,CACxFG,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,4FAAC,iBAAOG,MAAM,mJAAcA,MAAM,CAACC,YAAY,CAAC,WAAW,CAAC,uDAAE,+DAAC,QAFhEC,KAAK,qBAINA,KAAK,CAACC,MAAM,GAAK,CAAC,4BACbH,MAAM,CAAG,EAAE,CAENI,CAAC,CAAG,CAAC,aAAEA,CAAC,CAAGF,KAAK,CAACC,MAAM,4BACxBE,EAAE,CAAGH,KAAK,CAACE,CAAC,CAAC,CAACE,QAAQ,EAAE,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,yBACtBX,MAAK,CAAC,iDAAiD,CAAGS,EAAE,CAAC,SAA9EG,QAAQ,wCACQA,SAAQ,CAACT,IAAI,EAAE,SAA/BU,OAAO,gBAEb,GAAGT,MAAM,CAAC,CAAC,CAAC,GAAKU,SAAS,CAAC,CACvBV,MAAM,8BAAOA,MAAM,qBAAKS,OAAO,CAACR,YAAY,CAACU,OAAO,EAAE,EAAC,CAC3D,CAAC,IAAK,CACFX,MAAM,CAAGS,OAAO,CAACR,YAAY,CAACU,OAAO,EAAE,CAC3C,CAAC,QAT6BP,CAAC,EAAE,iEAW9BJ,MAAM,2CAEN,KAAK,0DAGnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}