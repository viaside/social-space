{"ast":null,"code":"import _regeneratorRuntime from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import getCookie from\"../../../features/getCookie\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var AccountBots=/*#__PURE__*/function(_Component){_inherits(AccountBots,_Component);var _super=_createSuper(AccountBots);function AccountBots(){var _this;_classCallCheck(this,AccountBots);_this=_super.call(this);_this.state={data:[],isAddBots:false,BotId:\"\"};_this.addBot=_this.addBot.bind(_assertThisInitialized(_this));_this.deleteBot=_this.deleteBot.bind(_assertThisInitialized(_this));_this.BotId=_this.BotId.bind(_assertThisInitialized(_this));return _this;}_createClass(AccountBots,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _this2=this;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:fetch('https://localhost:7013/api/user/GetInfo/'+getCookie(\"userId\")).then(function(Response){return Response.json();}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(Result){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this2.setState({data:Result.responseData});case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());case 1:case\"end\":return _context2.stop();}},_callee2);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"BotId\",value:function BotId(event){this.setState({BotId:event.target.value});}},{key:\"addBot\",value:function addBot(){var _this3=this;this.setState({isAddBots:!this.state.isAddBots});if(this.state.isAddBots===true){fetch(\"https://localhost:7013/api/user/AddBot/\"+this.state.data.id+\"&\"+this.state.BotId).then(function(Response){return Response.json();}).then(function(result){console.log(result);if(result.responseData===\"False\"){alert(\"Бот по данному id не найден\");}else{fetch('https://localhost:7013/api/user/GetInfo/'+getCookie(\"userId\")).then(function(Response){return Response.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(Result){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this3.setState({data:Result.responseData});case 1:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2){return _ref2.apply(this,arguments);};}());}});}}},{key:\"deleteBot\",value:function deleteBot(id){var _this4=this;fetch(\"https://localhost:7013/api/user/DeleteBot/\"+this.state.data.id+\"&\"+id).then(fetch('https://localhost:7013/api/user/GetInfo/'+getCookie(\"userId\")).then(function(Response){return Response.json();}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(Result){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_this4.setState({data:Result.responseData});case 1:case\"end\":return _context4.stop();}},_callee4);}));return function(_x3){return _ref3.apply(this,arguments);};}()));}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/_jsxs(\"div\",{children:[this.state.data.usingBots!==null&&this.state.data.usingBots!==undefined?this.state.data.usingBots.map(function(element,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"bots\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0418\\u043C\\u044F - \",element.toString().split('----')[1]]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"id - \",element.toString().split('----')[0]]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this5.deleteBot(element);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0431\\u043E\\u0442\\u0430\"})]},index);}):null,this.state.isAddBots!==false?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 id \\u0431\\u043E\\u0442\\u0430\",onChange:this.BotId})}):null,/*#__PURE__*/_jsx(\"button\",{onClick:this.addBot,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0431\\u043E\\u0442\\u0430\"})]});}}]);return AccountBots;}(Component);export{AccountBots as default};","map":{"version":3,"names":["Component","getCookie","AccountBots","state","data","isAddBots","BotId","addBot","bind","deleteBot","fetch","then","Response","json","Result","setState","responseData","event","target","value","id","result","console","log","alert","usingBots","undefined","map","element","index","toString","split"],"sources":["D:/Проекты/social-space/frontend/src/component/Account/AccountInfo/AccountBots.jsx"],"sourcesContent":["import { Component } from \"react\";\r\nimport getCookie from \"../../../features/getCookie\";\r\n\r\nexport default class AccountBots extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state= {\r\n            data: [],\r\n            isAddBots: false,\r\n            BotId: \"\",\r\n        }\r\n\r\n        this.addBot = this.addBot.bind(this);\r\n        this.deleteBot = this.deleteBot.bind(this);\r\n        this.BotId = this.BotId.bind(this);\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        fetch('https://localhost:7013/api/user/GetInfo/' + getCookie(\"userId\"))\r\n        .then((Response) => Response.json())\r\n        .then(async (Result) => {\r\n            this.setState({ data: Result.responseData });\r\n        });\r\n    }\r\n    BotId(event) {\r\n        this.setState({ BotId: event.target.value })\r\n    }\r\n            \r\n    addBot(){\r\n        this.setState({ isAddBots: !this.state.isAddBots })\r\n        if(this.state.isAddBots === true){\r\n            fetch(\"https://localhost:7013/api/user/AddBot/\"+ this.state.data.id +\"&\"+ this.state.BotId)\r\n            .then((Response) => Response.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                if(result.responseData === \"False\"){\r\n                    alert(\"Бот по данному id не найден\")\r\n                } else{\r\n                    fetch('https://localhost:7013/api/user/GetInfo/' + getCookie(\"userId\"))\r\n                    .then((Response) => Response.json())\r\n                    .then(async (Result) => {\r\n                        this.setState({ data: Result.responseData });\r\n                    });\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    deleteBot(id){\r\n        fetch(\"https://localhost:7013/api/user/DeleteBot/\"+ this.state.data.id +\"&\"+ id)\r\n        .then(\r\n            fetch('https://localhost:7013/api/user/GetInfo/' + getCookie(\"userId\"))\r\n            .then((Response) => Response.json())\r\n            .then(async (Result) => {\r\n                this.setState({ data: Result.responseData });\r\n            })\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                {this.state.data.usingBots !== null && this.state.data.usingBots !== undefined? \r\n                    this.state.data.usingBots.map((element, index) => { return (\r\n                        <div key={index} className=\"bots\">\r\n                            <p>Имя - {element.toString().split('----')[1]}</p> \r\n                            <p>id - {element.toString().split('----')[0]}</p>\r\n                            <button onClick={() => this.deleteBot(element)}>Удалить бота</button>\r\n                        </div>\r\n                )}): null}\r\n                {this.state.isAddBots !== false? \r\n                    <div>\r\n                        <input placeholder=\"Введите id бота\" onChange={ this.BotId }/> \r\n                    </div>\r\n                : null}\r\n                <button onClick={ this.addBot }>Добавить бота</button>\r\n            </div>\r\n        );\r\n    }\r\n}"],"mappings":"+jCAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAOC,UAAS,KAAM,6BAA6B,CAAC,2FAE/BC,YAAW,0GAC5B,sBAAa,6CACT,wBACA,MAAKC,KAAK,CAAE,CACRC,IAAI,CAAE,EAAE,CACRC,SAAS,CAAE,KAAK,CAChBC,KAAK,CAAE,EACX,CAAC,CAED,MAAKC,MAAM,CAAG,MAAKA,MAAM,CAACC,IAAI,+BAAM,CACpC,MAAKC,SAAS,CAAG,MAAKA,SAAS,CAACD,IAAI,+BAAM,CAC1C,MAAKF,KAAK,CAAG,MAAKA,KAAK,CAACE,IAAI,+BAAM,CAAC,aACvC,CAAC,qJAED,yJACIE,KAAK,CAAC,0CAA0C,CAAGT,SAAS,CAAC,QAAQ,CAAC,CAAC,CACtEU,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,4FAAC,iBAAOG,MAAM,mHACf,MAAI,CAACC,QAAQ,CAAC,CAAEX,IAAI,CAAEU,MAAM,CAACE,YAAa,CAAC,CAAC,CAAC,qDAChD,+DAAC,CAAC,uDACN,kIACD,eAAMC,KAAK,CAAE,CACT,IAAI,CAACF,QAAQ,CAAC,CAAET,KAAK,CAAEW,KAAK,CAACC,MAAM,CAACC,KAAM,CAAC,CAAC,CAChD,CAAC,sBAED,iBAAQ,iBACJ,IAAI,CAACJ,QAAQ,CAAC,CAAEV,SAAS,CAAE,CAAC,IAAI,CAACF,KAAK,CAACE,SAAU,CAAC,CAAC,CACnD,GAAG,IAAI,CAACF,KAAK,CAACE,SAAS,GAAK,IAAI,CAAC,CAC7BK,KAAK,CAAC,yCAAyC,CAAE,IAAI,CAACP,KAAK,CAACC,IAAI,CAACgB,EAAE,CAAE,GAAG,CAAE,IAAI,CAACjB,KAAK,CAACG,KAAK,CAAC,CAC1FK,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACU,MAAM,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,GAAGA,MAAM,CAACL,YAAY,GAAK,OAAO,CAAC,CAC/BQ,KAAK,CAAC,6BAA6B,CAAC,CACxC,CAAC,IAAK,CACFd,KAAK,CAAC,0CAA0C,CAAGT,SAAS,CAAC,QAAQ,CAAC,CAAC,CACtEU,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,6FAAC,kBAAOG,MAAM,uHACf,MAAI,CAACC,QAAQ,CAAC,CAAEX,IAAI,CAAEU,MAAM,CAACE,YAAa,CAAC,CAAC,CAAC,uDAChD,iEAAC,CACN,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,yBAED,mBAAUI,EAAE,CAAC,iBACTV,KAAK,CAAC,4CAA4C,CAAE,IAAI,CAACP,KAAK,CAACC,IAAI,CAACgB,EAAE,CAAE,GAAG,CAAEA,EAAE,CAAC,CAC/ET,IAAI,CACDD,KAAK,CAAC,0CAA0C,CAAGT,SAAS,CAAC,QAAQ,CAAC,CAAC,CACtEU,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,6FAAC,kBAAOG,MAAM,uHACf,MAAI,CAACC,QAAQ,CAAC,CAAEX,IAAI,CAAEU,MAAM,CAACE,YAAa,CAAC,CAAC,CAAC,uDAChD,iEAAC,CACL,CACL,CAAC,sBAED,iBAAS,iBACL,mBACI,uBACK,IAAI,CAACb,KAAK,CAACC,IAAI,CAACqB,SAAS,GAAK,IAAI,EAAI,IAAI,CAACtB,KAAK,CAACC,IAAI,CAACqB,SAAS,GAAKC,SAAS,CAC1E,IAAI,CAACvB,KAAK,CAACC,IAAI,CAACqB,SAAS,CAACE,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,CAAK,CAAE,mBAChD,aAAiB,SAAS,CAAC,MAAM,wBAC7B,qBAAG,uBAAM,CAACD,OAAO,CAACE,QAAQ,EAAE,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAK,cAClD,qBAAG,OAAK,CAACH,OAAO,CAACE,QAAQ,EAAE,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAK,cACjD,eAAQ,OAAO,CAAE,yBAAM,OAAI,CAACtB,SAAS,CAACmB,OAAO,CAAC,EAAC,UAAC,qEAAY,EAAS,GAH/DC,KAAK,CAIT,CACb,CAAC,CAAC,CAAE,IAAI,CACR,IAAI,CAAC1B,KAAK,CAACE,SAAS,GAAK,KAAK,cAC3B,kCACI,cAAO,WAAW,CAAC,wEAAiB,CAAC,QAAQ,CAAG,IAAI,CAACC,KAAO,EAAE,EAC5D,CACR,IAAI,cACN,eAAQ,OAAO,CAAG,IAAI,CAACC,MAAQ,UAAC,2EAAa,EAAS,GACpD,CAEd,CAAC,yBA3EoCP,SAAS,SAA7BE,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}