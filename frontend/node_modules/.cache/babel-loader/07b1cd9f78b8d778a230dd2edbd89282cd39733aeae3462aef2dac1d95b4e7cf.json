{"ast":null,"code":"import _regeneratorRuntime from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useDispatch}from'react-redux';import{open}from'../../features/redux/openChatSlice';import{close}from'../../features/redux/openMessageSlice';import{setIdChat}from'../../features/redux/idChatSlice';import{jsx as _jsx}from\"react/jsx-runtime\";export default function GroupList(props){var dispatch=useDispatch();var group=[];if(props.data){props.data.sort(function(a,b){if(a.date<b.date){return 1;}if(a.date>b.date){return-1;}return 0;}).forEach(function(element){if(element.type===\"group\"||element.type===\"supergroup\"){group.push(element.nameFrom);}});}var activeGroup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var i,element,elementMessage;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<=group.length)){_context.next=20;break;}_context.next=4;return document.getElementById(i);case 4:element=_context.sent;_context.next=7;return document.getElementById(\"message\"+i);case 7:elementMessage=_context.sent;if(!(element&&elementMessage)){_context.next=16;break;}if(!(id===i)){_context.next=15;break;}_context.next=12;return\"#353535\";case 12:element.style.backgroundColor=_context.sent;_context.next=16;break;case 15:element.style.backgroundColor=null;case 16:elementMessage.style.backgroundColor=null;case 17:i++;_context.next=1;break;case 20:case\"end\":return _context.stop();}},_callee);}));return function activeGroup(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"ChatListAll\",children:group.filter(function(element,index){return group.indexOf(element)===index;}).map(function(data,index){return/*#__PURE__*/_jsx(\"div\",{className:\"ChatList\",id:index,onClick:function onClick(){dispatch(open());dispatch(close());dispatch(setIdChat(data));activeGroup(index);},children:/*#__PURE__*/_jsx(\"h1\",{children:data})},index);})});}","map":{"version":3,"names":["React","useDispatch","open","close","setIdChat","GroupList","props","dispatch","group","data","sort","a","b","date","forEach","element","type","push","nameFrom","activeGroup","id","i","length","document","getElementById","elementMessage","style","backgroundColor","filter","index","indexOf","map"],"sources":["D:/Проекты/social-space/frontend/src/component/Group/GroupList.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { open } from '../../features/redux/openChatSlice';\r\nimport { close } from '../../features/redux/openMessageSlice';\r\nimport { setIdChat } from '../../features/redux/idChatSlice';\r\n\r\nexport default function GroupList(props) {\r\n    const dispatch = useDispatch()\r\n  \r\n    let group = [];\r\n\r\n    if(props.data){\r\n        props.data.sort(function(a,b){\r\n            if(a.date < b.date){\r\n                return 1;\r\n            }\r\n            if(a.date > b.date){\r\n                return -1;\r\n            }\r\n            return 0;\r\n            }).forEach(element => {\r\n            if(element.type === \"group\" || element.type === \"supergroup\"){\r\n                group.push(element.nameFrom);\r\n            }\r\n        });\r\n    }\r\n\r\n    const activeGroup = async (id) => {\r\n        for(let i = 0; i <= group.length; i++){\r\n            let element = await document.getElementById(i);\r\n            let elementMessage = await document.getElementById(\"message\"+i);\r\n            if(element && elementMessage){\r\n                if(id === i){\r\n                    element.style.backgroundColor = await \"#353535\";\r\n                } else{\r\n                    element.style.backgroundColor = null;\r\n                }\r\n            }\r\n            elementMessage.style.backgroundColor = null;\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='ChatListAll'>\r\n            {group.filter((element, index) => {\r\n                return group.indexOf(element) === index;\r\n            }).map((data, index) => {\r\n                return (\r\n                    <div className=\"ChatList\" id={index} key={index} onClick = {() => {\r\n                        dispatch(open());\r\n                        dispatch(close());\r\n                        dispatch(setIdChat(data));\r\n                        activeGroup(index);\r\n                    }}>\r\n                        <h1>{ data }</h1>\r\n                    </div>\r\n                ); \r\n            })}\r\n        </div>\r\n    );\r\n}"],"mappings":"kUAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,IAAI,KAAQ,oCAAoC,CACzD,OAASC,KAAK,KAAQ,uCAAuC,CAC7D,OAASC,SAAS,KAAQ,kCAAkC,CAAC,2CAE7D,cAAe,SAASC,UAAS,CAACC,KAAK,CAAE,CACrC,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,GAAIO,MAAK,CAAG,EAAE,CAEd,GAAGF,KAAK,CAACG,IAAI,CAAC,CACVH,KAAK,CAACG,IAAI,CAACC,IAAI,CAAC,SAASC,CAAC,CAACC,CAAC,CAAC,CACzB,GAAGD,CAAC,CAACE,IAAI,CAAGD,CAAC,CAACC,IAAI,CAAC,CACf,MAAO,EAAC,CACZ,CACA,GAAGF,CAAC,CAACE,IAAI,CAAGD,CAAC,CAACC,IAAI,CAAC,CACf,MAAO,CAAC,CAAC,CACb,CACA,MAAO,EAAC,CACR,CAAC,CAAC,CAACC,OAAO,CAAC,SAAAC,OAAO,CAAI,CACtB,GAAGA,OAAO,CAACC,IAAI,GAAK,OAAO,EAAID,OAAO,CAACC,IAAI,GAAK,YAAY,CAAC,CACzDR,KAAK,CAACS,IAAI,CAACF,OAAO,CAACG,QAAQ,CAAC,CAChC,CACJ,CAAC,CAAC,CACN,CAEA,GAAMC,YAAW,4FAAG,iBAAOC,EAAE,gJACjBC,CAAC,CAAG,CAAC,aAAEA,CAAC,EAAIb,KAAK,CAACc,MAAM,iDACRC,SAAQ,CAACC,cAAc,CAACH,CAAC,CAAC,QAA1CN,OAAO,qCACgBQ,SAAQ,CAACC,cAAc,CAAC,SAAS,CAACH,CAAC,CAAC,QAA3DI,cAAc,oBACfV,OAAO,EAAIU,cAAc,gCACrBL,EAAE,GAAKC,CAAC,kDAC+B,SAAS,SAA/CN,OAAO,CAACW,KAAK,CAACC,eAAe,8CAE7BZ,OAAO,CAACW,KAAK,CAACC,eAAe,CAAG,IAAI,CAAC,QAG7CF,cAAc,CAACC,KAAK,CAACC,eAAe,CAAG,IAAI,CAAC,QAVdN,CAAC,EAAE,6EAYxC,kBAbKF,YAAW,4CAahB,CAED,mBACI,YAAK,SAAS,CAAC,aAAa,UACvBX,KAAK,CAACoB,MAAM,CAAC,SAACb,OAAO,CAAEc,KAAK,CAAK,CAC9B,MAAOrB,MAAK,CAACsB,OAAO,CAACf,OAAO,CAAC,GAAKc,KAAK,CAC3C,CAAC,CAAC,CAACE,GAAG,CAAC,SAACtB,IAAI,CAAEoB,KAAK,CAAK,CACpB,mBACI,YAAK,SAAS,CAAC,UAAU,CAAC,EAAE,CAAEA,KAAM,CAAa,OAAO,CAAI,kBAAM,CAC9DtB,QAAQ,CAACL,IAAI,EAAE,CAAC,CAChBK,QAAQ,CAACJ,KAAK,EAAE,CAAC,CACjBI,QAAQ,CAACH,SAAS,CAACK,IAAI,CAAC,CAAC,CACzBU,WAAW,CAACU,KAAK,CAAC,CACtB,CAAE,uBACE,oBAAMpB,IAAI,EAAO,EANqBoB,KAAK,CAOzC,CAEd,CAAC,CAAC,EACA,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}