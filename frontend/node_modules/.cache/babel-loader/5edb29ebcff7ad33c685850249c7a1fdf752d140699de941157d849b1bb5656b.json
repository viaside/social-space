{"ast":null,"code":"import getCookie from \"./getCookie\";\nimport packagejson from \"../../package.json\";\nexport default async function getMessage() {\n  // user bot id\n  let botId = await fetch(packagejson.ipurl + '/api/user/GetInfo/' + getCookie(\"userId\")).then(Response => Response.json()).then(async Result => {\n    return Result.responseData[\"usingBots\"];\n  });\n  if (botId.length !== 0) {\n    let Result = [];\n    for (let i = 0; i < botId.length; i++) {\n      // get message from api\n      let id = botId[i].toString().split('----')[0];\n      const response = await fetch(packagejson.ipurl + \"/api/telegram/getMessage/\" + id);\n      const message = await response.json();\n\n      // set message data\n      if (Result[0] !== undefined) {\n        Result = [...Result, ...message.responseData.reverse()];\n      } else {\n        Result = message.responseData.reverse();\n      }\n    }\n    console.log(Result);\n    return Result;\n  } else {\n    return false;\n  }\n}","map":{"version":3,"names":["getCookie","packagejson","getMessage","botId","fetch","ipurl","then","Response","json","Result","responseData","length","i","id","toString","split","response","message","undefined","reverse","console","log"],"sources":["D:/Проекты/social-space/frontend/src/features/getMessage.js"],"sourcesContent":["import getCookie from \"./getCookie\";\r\nimport packagejson from \"../../package.json\";\r\n\r\nexport default async function getMessage() {\r\n    // user bot id\r\n    let botId = await fetch(packagejson.ipurl + '/api/user/GetInfo/' + getCookie(\"userId\"))\r\n    .then((Response) => Response.json())\r\n    .then(async (Result) => { return Result.responseData[\"usingBots\"] });\r\n\r\n    if(botId.length !== 0){\r\n        let Result = [];\r\n        \r\n        for (let i = 0; i < botId.length; i++) {\r\n            // get message from api\r\n            let id = botId[i].toString().split('----')[0];   \r\n            const response = await fetch(packagejson.ipurl + \"/api/telegram/getMessage/\" + id);\r\n            const message = await response.json();\r\n    \r\n            // set message data\r\n            if(Result[0] !== undefined){\r\n                Result = [...Result, ...message.responseData.reverse()];\r\n            } else{\r\n                Result = message.responseData.reverse();\r\n            }\r\n        }\r\n        console.log(Result);\r\n        return Result;\r\n    } else {\r\n        return false;\r\n    }\r\n\r\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,aAAa;AACnC,OAAOC,WAAW,MAAM,oBAAoB;AAE5C,eAAe,eAAeC,UAAUA,CAAA,EAAG;EACvC;EACA,IAAIC,KAAK,GAAG,MAAMC,KAAK,CAACH,WAAW,CAACI,KAAK,GAAG,oBAAoB,GAAGL,SAAS,CAAC,QAAQ,CAAC,CAAC,CACtFM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAC,MAAOG,MAAM,IAAK;IAAE,OAAOA,MAAM,CAACC,YAAY,CAAC,WAAW,CAAC;EAAC,CAAC,CAAC;EAEpE,IAAGP,KAAK,CAACQ,MAAM,KAAK,CAAC,EAAC;IAClB,IAAIF,MAAM,GAAG,EAAE;IAEf,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,KAAK,CAACQ,MAAM,EAAEC,CAAC,EAAE,EAAE;MACnC;MACA,IAAIC,EAAE,GAAGV,KAAK,CAACS,CAAC,CAAC,CAACE,QAAQ,EAAE,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;MAC7C,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACH,WAAW,CAACI,KAAK,GAAG,2BAA2B,GAAGQ,EAAE,CAAC;MAClF,MAAMI,OAAO,GAAG,MAAMD,QAAQ,CAACR,IAAI,EAAE;;MAErC;MACA,IAAGC,MAAM,CAAC,CAAC,CAAC,KAAKS,SAAS,EAAC;QACvBT,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGQ,OAAO,CAACP,YAAY,CAACS,OAAO,EAAE,CAAC;MAC3D,CAAC,MAAK;QACFV,MAAM,GAAGQ,OAAO,CAACP,YAAY,CAACS,OAAO,EAAE;MAC3C;IACJ;IACAC,OAAO,CAACC,GAAG,CAACZ,MAAM,CAAC;IACnB,OAAOA,MAAM;EACjB,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}