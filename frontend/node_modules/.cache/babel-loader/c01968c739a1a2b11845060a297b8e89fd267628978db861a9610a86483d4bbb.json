{"ast":null,"code":"import _classCallCheck from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/social-space/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import getMessage from\"../../features/getMessage\";import ChatOpen from\"./ChatOpen\";import ChatList from\"./ChatList\";import AllMessage from'./AllMessage';import loader from\"../../illustration/loader.svg\";import getCookie from\"../../features/getCookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=/*#__PURE__*/function(_Component){_inherits(Chat,_Component);var _super=_createSuper(Chat);function Chat(){var _this;_classCallCheck(this,Chat);_this=_super.call(this);_this.state={data:[]};return _this;}_createClass(Chat,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;getMessage().then(function(result){return _this2.setState({data:result});});var timer=setInterval(function(){getMessage().then(function(result){return _this2.setState({data:result});});},10000);return function(){return clearTimeout(timer);};}},{key:\"render\",value:function render(){if(getCookie(\"isLogin\")===\"false\"){return/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435\"});}else{if(this.state.data){if(this.state.data.length!==0){return/*#__PURE__*/_jsxs(\"div\",{className:\"Chat\",children:[/*#__PURE__*/_jsx(ChatList,{data:this.state.data}),/*#__PURE__*/_jsx(ChatOpen,{data:this.state.data}),/*#__PURE__*/_jsx(AllMessage,{data:this.state.data})]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"img\",{src:loader,alt:\"\",width:300})});}}else{return/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0431\\u043E\\u0442\\u0430\"});}}}}]);return Chat;}(Component);export{Chat as default};","map":{"version":3,"names":["Component","getMessage","ChatOpen","ChatList","AllMessage","loader","getCookie","Chat","state","data","then","result","setState","timer","setInterval","clearTimeout","length"],"sources":["D:/Проекты/social-space/frontend/src/component/Chat/Chat.jsx"],"sourcesContent":["import { Component } from \"react\";\r\nimport getMessage from \"../../features/getMessage\";\r\nimport ChatOpen from \"./ChatOpen\"\r\nimport ChatList from \"./ChatList\";\r\nimport AllMessage from './AllMessage';\r\nimport loader from \"../../illustration/loader.svg\";\r\nimport getCookie from \"../../features/getCookie\";\r\n\r\n\r\nexport default class Chat extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state= {\r\n            data: [],\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        getMessage().then(result => this.setState({data: result}));\r\n        const timer = setInterval(() => {getMessage().then(result => this.setState({data: result}))}, 10000);\r\n        return () => clearTimeout(timer); \r\n    }\r\n    render() {\r\n        if(getCookie(\"isLogin\") === \"false\"){\r\n            return <h1>Войдите</h1>\r\n        } else{\r\n            if(this.state.data){\r\n                if(this.state.data.length !== 0){\r\n                    return(\r\n                        <div className=\"Chat\">\r\n                            <ChatList data = { this.state.data }/>\r\n                            <ChatOpen data = { this.state.data }/>\r\n                            <AllMessage data = { this.state.data }/>\r\n                        </div>\r\n                    );\r\n                } else{\r\n                    return (\r\n                        <div className=\"loading\">\r\n                            <img src={loader} alt=\"\" width={300}/>\r\n                        </div>\r\n                    )\r\n                }\r\n            } else{\r\n                return <h1>Добавьте бота</h1>\r\n            }\r\n        }\r\n    }\r\n}"],"mappings":"olBAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAOC,WAAU,KAAM,2BAA2B,CAClD,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,WAAU,KAAM,cAAc,CACrC,MAAOC,OAAM,KAAM,+BAA+B,CAClD,MAAOC,UAAS,KAAM,0BAA0B,CAAC,2FAG5BC,KAAI,4FACrB,eAAa,sCACT,wBACA,MAAKC,KAAK,CAAE,CACRC,IAAI,CAAE,EACV,CAAC,cACL,CAAC,kDAED,4BAAoB,iBAChBR,UAAU,EAAE,CAACS,IAAI,CAAC,SAAAC,MAAM,QAAI,OAAI,CAACC,QAAQ,CAAC,CAACH,IAAI,CAAEE,MAAM,CAAC,CAAC,GAAC,CAC1D,GAAME,MAAK,CAAGC,WAAW,CAAC,UAAM,CAACb,UAAU,EAAE,CAACS,IAAI,CAAC,SAAAC,MAAM,QAAI,OAAI,CAACC,QAAQ,CAAC,CAACH,IAAI,CAAEE,MAAM,CAAC,CAAC,GAAC,EAAC,CAAE,KAAK,CAAC,CACpG,MAAO,kBAAMI,aAAY,CAACF,KAAK,CAAC,GACpC,CAAC,sBACD,iBAAS,CACL,GAAGP,SAAS,CAAC,SAAS,CAAC,GAAK,OAAO,CAAC,CAChC,mBAAO,oBAAI,4CAAO,EAAK,CAC3B,CAAC,IAAK,CACF,GAAG,IAAI,CAACE,KAAK,CAACC,IAAI,CAAC,CACf,GAAG,IAAI,CAACD,KAAK,CAACC,IAAI,CAACO,MAAM,GAAK,CAAC,CAAC,CAC5B,mBACI,aAAK,SAAS,CAAC,MAAM,wBACjB,KAAC,QAAQ,EAAC,IAAI,CAAK,IAAI,CAACR,KAAK,CAACC,IAAM,EAAE,cACtC,KAAC,QAAQ,EAAC,IAAI,CAAK,IAAI,CAACD,KAAK,CAACC,IAAM,EAAE,cACtC,KAAC,UAAU,EAAC,IAAI,CAAK,IAAI,CAACD,KAAK,CAACC,IAAM,EAAE,GACtC,CAEd,CAAC,IAAK,CACF,mBACI,YAAK,SAAS,CAAC,SAAS,uBACpB,YAAK,GAAG,CAAEJ,MAAO,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAE,GAAI,EAAE,EACpC,CAEd,CACJ,CAAC,IAAK,CACF,mBAAO,oBAAI,2EAAa,EAAK,CACjC,CACJ,CACJ,CAAC,kBArC6BL,SAAS,SAAtBO,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}